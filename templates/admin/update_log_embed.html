<!-- 更新日志时间轴样式 -->
<style>
    /* 更新日志时间轴样式 - Cyber风格 - 使用特定前缀避免冲突 */
    .update-log-timeline-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 40px 20px;
        position: relative;
        overflow: hidden;
        background: transparent;
    }

    .update-log-timeline-header {
        text-align: center;
        margin-bottom: 60px;
    }

    .update-log-timeline-header h1 {
        font-size: 2.5em;
        background: linear-gradient(135deg, var(--neon-blue) 0%, var(--neon-purple) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 10px;
        text-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
    }

    .update-log-timeline-header p {
        font-size: 1.2em;
        color: var(--text-secondary);
    }

    .update-log-timeline {
        position: relative;
        padding: 20px 0;
        overflow: hidden;
        clear: both;
    }

    .update-log-timeline::after {
        content: '';
        display: table;
        clear: both;
    }

    .update-log-timeline-item {
        position: relative;
        margin: 40px 0;
        opacity: 0;
        animation: fadeInUp 0.6s ease forwards;
        clear: both;
        width: 100%;
    }

    .update-log-timeline::before {
        content: '';
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(to bottom, var(--neon-blue), var(--neon-purple));
        transform: translateX(-50%);
        box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        z-index: 1;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .update-log-timeline-node {
        position: absolute;
        left: 50%;
        top: 25px;
        width: 24px;
        height: 24px;
        background: var(--deep-space-2);
        border: 4px solid var(--neon-blue);
        border-radius: 50%;
        transform: translateX(-50%);
        z-index: 2;
        transition: all 0.3s ease;
        box-shadow: 0 0 0 4px var(--deep-space-1), 0 0 15px rgba(0, 212, 255, 0.5);
    }

    .update-log-timeline-item:hover .update-log-timeline-node {
        transform: translateX(-50%) scale(1.3);
        border-color: var(--neon-purple);
        box-shadow: 0 0 0 4px var(--deep-space-1), 0 0 20px rgba(157, 78, 221, 0.7);
    }

    .update-log-timeline-content {
        position: relative;
        width: calc(50% - 60px);
        padding: 25px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(0, 212, 255, 0.2);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        box-sizing: border-box;
        z-index: 2;
    }

    .update-log-timeline-content::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(157, 78, 221, 0.1) 100%);
        opacity: 0;
        transition: opacity var(--transition-normal) ease;
        border-radius: 15px;
    }

    .update-log-timeline-item:nth-child(odd) .update-log-timeline-content {
        margin-right: auto;
        margin-left: 0;
        float: left;
        text-align: left;
    }

    .update-log-timeline-item:nth-child(even) .update-log-timeline-content {
        margin-left: auto;
        margin-right: 0;
        float: right;
        text-align: left;
    }

    .update-log-timeline-content:hover {
        transform: translateY(-5px);
        border-color: var(--neon-blue);
        box-shadow: 0 15px 40px rgba(0, 212, 255, 0.3);
    }

    .update-log-timeline-content:hover::before {
        opacity: 1;
    }

    .update-log-timeline-version {
        display: inline-block;
        background: linear-gradient(135deg, var(--neon-blue) 0%, var(--neon-purple) 100%);
        color: var(--text-primary);
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9em;
        font-weight: bold;
        margin-bottom: 10px;
        box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
    }

    .update-log-timeline-date {
        color: var(--text-secondary);
        font-size: 0.9em;
        margin-bottom: 10px;
    }

    .update-log-timeline-title {
        font-size: 1.3em;
        color: var(--text-primary);
        margin-bottom: 10px;
        font-weight: 600;
    }

    .update-log-timeline-description {
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
    }

    .update-log-timeline-tag {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 15px;
        font-size: 0.8em;
        font-weight: bold;
        margin-right: 8px;
        margin-bottom: 8px;
        position: relative;
        z-index: 1;
    }

    .update-log-tag-feature {
        background: rgba(0, 255, 136, 0.2);
        color: var(--success-color);
        border: 1px solid rgba(0, 255, 136, 0.3);
    }

    .update-log-tag-improvement {
        background: rgba(255, 170, 0, 0.2);
        color: var(--warning-color);
        border: 1px solid rgba(255, 170, 0, 0.3);
    }

    .update-log-tag-fix {
        background: rgba(255, 0, 110, 0.2);
        color: var(--error-color);
        border: 1px solid rgba(255, 0, 110, 0.3);
    }

    /* 响应式设计 - 右侧布局 */
    @media (max-width: 768px) {
        .update-log-timeline::before {
            left: 30px;
        }

        .update-log-timeline-node {
            left: 30px;
        }

        .update-log-timeline-content {
            width: calc(100% - 80px);
            margin-left: 80px !important;
            margin-right: 0 !important;
            float: none !important;
            text-align: left !important;
        }

        .update-log-timeline-header h1 {
            font-size: 2em;
        }
    }

    @media (max-width: 480px) {
        .update-log-timeline-container {
            padding: 20px 10px;
        }

        .update-log-timeline-content {
            width: calc(100% - 60px);
            margin-left: 60px !important;
            padding: 20px;
            float: none !important;
            text-align: left !important;
        }

        .update-log-timeline-header h1 {
            font-size: 1.8em;
        }
    }
</style>

<div class="update-log-timeline-container">
    <div class="update-log-timeline-header">
        <h1>更新日志</h1>
        <p>记录所有功能迭代和优化历史</p>
    </div>

    <div class="update-log-timeline">
        {% if commits %}
            {% for commit in commits %}
            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">{{ commit.hash }}</span>
                    <div class="update-log-timeline-date">{{ commit.date }}</div>
                    <h3 class="update-log-timeline-title">{{ commit.message }}</h3>
                    <p class="update-log-timeline-description">
                        提交者: {{ commit.author }}
                    </p>
                    <!-- 根据提交信息自动添加标签 -->
                    {% if 'feat' in commit.message or '新增' in commit.message %}
                        <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                    {% elif 'fix' in commit.message or '修复' in commit.message %}
                        <span class="update-log-timeline-tag update-log-tag-fix">问题修复</span>
                    {% else %}
                        <span class="update-log-timeline-tag update-log-tag-improvement">功能优化</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        {% else %}
            <!-- 默认的更新日志内容 -->
            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">V3.2</span>
                    <div class="update-log-timeline-date">2025-10-27</div>
                    <h3 class="update-log-timeline-title">系统性能优化</h3>
                    <p class="update-log-timeline-description">
                        优化数据库查询性能和页面加载速度，提升整体系统响应能力和用户体验。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-improvement">功能优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">V3.1</span>
                    <div class="update-log-timeline-date">2025-10-21</div>
                    <h3 class="update-log-timeline-title">功能更新</h3>
                    <p class="update-log-timeline-description">
                        添加商店模型和管理功能，新增管理员密码修改界面，完善商店导航和操作界面，更新路由配置和数据库结构，优化前端工具和样式。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                    <span class="update-log-timeline-tag update-log-tag-improvement">界面优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">V3 Preview</span>
                    <div class="update-log-timeline-date">2025-10-21</div>
                    <h3 class="update-log-timeline-title">发布V3预览版本</h3>
                    <p class="update-log-timeline-description">
                        预览版本主要是增加账号审计，用户管理，BLF运营管理等adam功能，并且优化了显示效果。新版本提供更强大的管理功能和更优质的用户体验。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                    <span class="update-log-timeline-tag update-log-tag-improvement">界面优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v2.5.1</span>
                    <div class="update-log-timeline-date">2025-10-10</div>
                    <h3 class="update-log-timeline-title">修复业务报告美金符号转义问题</h3>
                    <p class="update-log-timeline-description">
                        修复业务报告中美元$ .replace({r'\: ''})符号显示异常的问题，正确转义和显示。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-fix">问题修复</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v2.5.0</span>
                    <div class="update-log-timeline-date">2025-10-07</div>
                    <h3 class="update-log-timeline-title">增加安全日志功能和管理员开户功能</h3>
                    <p class="update-log-timeline-description">
                        增加log安全日志功能，记录系统操作和安全事件；增加管理员开户功能，支持管理员创建和管理用户账户。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v2.1.0</span>
                    <div class="update-log-timeline-date">2025-09-03</div>
                    <h3 class="update-log-timeline-title">更新帮助文档和报告模板</h3>
                    <p class="update-log-timeline-description">
                        完善帮助文档内容，更新报告模板，优化用户使用体验。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-improvement">功能优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v2.0.0</span>
                    <div class="update-log-timeline-date">2025-08-25</div>
                    <h3 class="update-log-timeline-title">优化产品分析文件上传功能</h3>
                    <p class="update-log-timeline-description">
                        支持分次上传文件，提升大文件处理体验。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-improvement">功能优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.9.0</span>
                    <div class="update-log-timeline-date">2025-08-21</div>
                    <h3 class="update-log-timeline-title">更新文档与产品数据库</h3>
                    <p class="update-log-timeline-description">
                        完善拖拽上传功能，包括自动识别文件类型，并修复相关问题。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-fix">问题修复</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.8.0</span>
                    <div class="update-log-timeline-date">2025-08-20</div>
                    <h3 class="update-log-timeline-title">修复产品分析模块问题</h3>
                    <p class="update-log-timeline-description">
                        集中修复产品分析模块中的多个路由、端点和引用问题，实现拖拽上传和基础信息文件处理优化。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-fix">问题修复</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.7.0</span>
                    <div class="update-log-timeline-date">2025-08-18</div>
                    <h3 class="update-log-timeline-title">完成系统阶段性设置工作</h3>
                    <p class="update-log-timeline-description">
                        恢复模型文件，合并登录功能，加入销售计算更新、新增"宝勒"模型并发布 V2 版本。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.6.0</span>
                    <div class="update-log-timeline-date">2025-06-30</div>
                    <h3 class="update-log-timeline-title">增加新功能并适配 OpenWRT 设备</h3>
                    <p class="update-log-timeline-description">
                        增加新功能并适配 OpenWRT 设备部署环境，更新忽略文件配置。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.5.0</span>
                    <div class="update-log-timeline-date">2025-04-27</div>
                    <h3 class="update-log-timeline-title">发布 V2 主线早期开发版本</h3>
                    <p class="update-log-timeline-description">
                        发布 V2 主线早期开发版本。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">新增功能</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.4.0</span>
                    <div class="update-log-timeline-date">2025-03-22</div>
                    <h3 class="update-log-timeline-title">推进 V2 版本开发迭代过程</h3>
                    <p class="update-log-timeline-description">
                        推进 V2 版本开发迭代过程。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-improvement">功能优化</span>
                </div>
            </div>

            <div class="update-log-timeline-item">
                <div class="update-log-timeline-node"></div>
                <div class="update-log-timeline-content">
                    <span class="update-log-timeline-version">v1.0.0</span>
                    <div class="update-log-timeline-date">2025-03-16</div>
                    <h3 class="update-log-timeline-title">项目初次提交</h3>
                    <p class="update-log-timeline-description">
                        项目初次提交，初始化仓库内容。
                    </p>
                    <span class="update-log-timeline-tag update-log-tag-feature">正式发布</span>
                </div>
            </div>
        {% endif %}
    </div>
</div>