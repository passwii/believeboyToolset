# 彼励扶工具集

这是一个基于Flask的Web应用，提供各种工具和数据分析功能。

## 功能特性

- 工具集：汇率转换、图片处理等
- 数据分析：日报、月报、产品分析等
- 模板文件：各种业务模板
- 产品分析：支持Amazon业务报告、付款报告、广告报表的智能分析

### 产品分析功能
- **分次上传**：支持分批次上传3个必需文件（业务报告.csv、付款报告.csv、广告报表.xlsx）
- **智能识别**：根据文件名自动识别文件类型
- **文件替换**：已上传的文件可以被新文件替换
- **实时状态**：每个文件的上传状态实时显示
- **灵活操作**：无需一次性上传所有文件

## 安装和运行

1. 安装依赖：
   ```
   pip install -r requirements.txt
   ```

2. 运行应用：
   ```
   python app.py
   ```

3. 访问应用：
   打开浏览器访问 http://localhost:8800

## 登录信息

应用现在需要登录才能访问。默认提供了两个用户：

- 用户名: `admin` 密码: `admin123`
- 用户名: `user` 密码: `user123`

## 开发说明

### 项目结构

```
.
├── app.py              # 应用入口
├── config.py           # 配置文件
├── auth.py             # 认证模块
├── routes/             # 路由定义
├── templates/          # HTML模板
├── statics/            # 静态资源
├── apps/               # 应用逻辑
└── requirements.txt    # 依赖列表
```

### 添加新功能

1. 在`routes/`目录下创建新的路由文件
2. 在`templates/`目录下创建对应的HTML模板
3. 在`statics/`目录下添加需要的CSS/JS文件
4. 在`routes/__init__.py`中注册新的蓝图

### 认证系统

认证系统基于Flask的session机制实现：

- 使用`@login_required`装饰器保护需要登录的路由
- 用户信息存储在session中
- 密码使用SHA256哈希存储

### 部署说明

在生产环境中，请务必：

1. 更改`config.py`中的`SECRET_KEY`
2. 使用强密码替换默认用户密码
3. 配置HTTPS
4. 设置适当的服务器安全策略
